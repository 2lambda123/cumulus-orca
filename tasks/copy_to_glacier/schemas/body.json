{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "$id": "https://github.com/nasa/cumulus-orca/blob/master/tasks/copy_to_glacier/schemas/body.json",
    "title": "copy_to_glacier SQS body schema",
    "description": "Schema for metadata SQS body for copy_to_glacier lambda",
    "type": "object",
    "properties": {
      "provider": {
        "type": "object",
        "description": "A dictionary containing provider that is in the ORCA holdings",
        "properties": {
          "id": {
            "type": "string",
            "description": "Provider ID supplied by Cumulus"
          },
          "name": {
            "type": "string",
            "description": "Name of the provider provided by Cumulus."
          }
        },
        "required": [
          "id",
          "name"
        ]
      },
      "collection": {
        "type": "object",
        "description": "A dictionary containing collection information",
        "properties": {
          "id": {
            "type": "string",
            "description": "Collection ID from Cumulus"
          },
          "shortname": {
            "type": "string",
            "description": "Collection short name from Cumulus."
          },
          "version": {
            "type": "string",
            "description": "Collection version from Cumulus."
          }
        },
        "required": [
          "id",
          "shortname",
          "version"
        ]
      },
      "granule": {
        "type": "object",
        "description": "A dictionary containing granule information",
        "properties": {
          "granuleId": {
            "type": "string",
            "description": "Granule ID from Cumulus"
          },
          "executionId": {
            "type": "string",
            "description": "AWS step function execution id"
          },
          "cumulusCreateTime": {
            "type": "string",
            "description": "Date and time data was originally ingested into Cumulus"
          },
          "orcaIngestDate": {
            "type": "string",
            "description": "Date and time the granule was originally ingested into ORCA."
          },
          "orcaLastUpdate": {
            "type": "string",
            "description": "Last time the data for the granule was updated"
          },
          "files": {
            "type": "array",
            "description": "A list of dictionary containing file information for latest version",
            "items": [
              {
                "type": "object",
                "properties": {
                  "fileName": {
                    "type": "string",
                    "description": "Name of the file including extension"
                  },
                  "cumulusArchiveLocation": {
                    "type": "string",
                    "description": "Cumulus S3 bucket where the file is stored in."
                  },
                  "orcaArchiveLocation": {
                    "type": "string",
                    "description": "ORCA S3 Glacier bucket that the file object is stored in"
                  },
                  "keyPath": {
                    "type": "string",
                    "description": "Full AWS key path including file name of the file where the file resides in ORCA."
                  },
                  "sizeInBytes": {
                    "type": "integer",
                    "description": "Size of the object in bytes"
                  },
                  "hash": {
                    "type": "string",
                    "description": "Hash of the object from Cumulus"
                  },
                  "hashType": {
                    "type": "string",
                    "description": "Hash type used to hash the object. Supplied by Cumulus."
                  },
                  "fileVersion": {
                    "type": "string",
                    "description": "Latest version of the file in the S3 Glacier bucket"
                  },
                  "etag": {
                    "type": "string",
                    "description": "etag of the file object in the AWS S3 Glacier bucket."
                  }
                },
                "required": [
                  "fileName",
                  "cumulusArchiveLocation",
                  "orcaArchiveLocation",
                  "keyPath",
                  "sizeInBytes",
                  "fileVersion",
                  "etag"
                ]
              }
            ]
          }
        },
        "required": [
          "granuleId",
          "cumulusCreateTime",
          "executionId",
          "orcaIngestDate",
          "orcaLastUpdate",
          "files"
        ]
      }
    },
    "required": [
      "provider",
      "collection",
      "granule"
    ]
  }